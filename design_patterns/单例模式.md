# 单例模式

## 概述

1、单例模式解决了一个实例被频繁的创建和销毁的问题。

2、某些时候，我们希望一个实例在使用的过程中，数据一直是保存在这个实例对象中，而不是重新初始化。

## 使用场景

比如一个计数器，我们不希望每次这个计数器都从零开始，而是希望随着业务的增加，计数器也在保持增长。

单例模式在前端的应用比较多，比如jquery库，loadash等等，都是对外抛出一个单例。

如果我们自己实现一个工具库，一般也会使用单例模式。

## 如何实现
```javascript
class Single {
  constructor(){
      this.state = null;
  }
  setState() {}
  getState() {}
}
function getInstance() {
    let result = null;
    if (!result) {
        result = new Single();
    } 
    return result;
}
```
## 注意事项

滥用单例将带来一些负面问题，如：为了节省资源将数据库连接池对象设计为的单例类，可能会导致共享连接池对象的程序过多而出现连接池溢出；

又比如：在多个线程中操作单例类的成员时，但单例中并没有对该成员进行线程互斥处理。
