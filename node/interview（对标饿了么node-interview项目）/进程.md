### 进程

百度百科：进程（Process）是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。在早期面向进程设计的计算机结构中，进程是程序的基本执行实体；在当代面向线程设计的计算机结构中，进程是线程的容器。程序是指令、数据及其组织形式的描述，进程是程序的实体。

1、正常情况下，一个进程对应多个线程。进程是程序执行的基本单位。进程通过调度线程，完成一个个功能。

2、对于nodeJs来说，一个进程，对应一个线程。JavaScript 是单线程的。

3、基于事件驱动、异步非阻塞模式，可以应用于高并发场景，避免了线程创建、线程之间上下文切换所产生的资源开销。

4、node中的process：

* process.env：环境变量，例如通过 process.env.NODE_ENV 获取不同环境项目配置信息

* process.nextTick：这个在谈及 EventLoop 时经常为会提到

* process.pid：获取当前进程id

* process.ppid：当前进程对应的父进程

* process.cwd()：获取当前进程工作目录，

* process.platform：获取当前进程运行的操作系统平台

* process.uptime()：当前进程已运行时间，例如：pm2 守护进程的 uptime 值

* 进程事件： process.on(‘uncaughtException’,cb) 捕获异常信息、 process.on(‘exit’,cb）进程推出监听

* 三个标准流： process.stdout 标准输出、 process.stdin 标准输入、 process.stderr 标准错误输出

* process.title 指定进程名称，有的时候需要给进程指定一个名称

### process.env

可以在命令行中，设置process.env的变量。

```
NODE_ENV=production node index.js
```

在index.js中：
```javascript
console.log(process.env.NODE_ENV); // production
```

windows中的命令设置，和macOs中不一样。
```
set NODE_ENV=production node index.js
```

**cross-env**

如果想要解决跨平台设置process.env的变量值的问题。使用这个包！



### process.nextTick 和 setTimeout

```javascript
function test() { 
  process.nextTick(() => test());
}
```
process.nextTick是在event loop每个阶段执行结束后，直接执行。最大递归限制1000次，太多会爆栈。

```javascript
function test() { 
  setTimeout(() => test(), 0);
}
```
setTimeout没有这个问题。

